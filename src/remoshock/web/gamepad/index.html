<!DOCTYPE html>
<html>
<head>
<title>Gamepad</title>
<link rel="stylesheet" href="../resources/uiframework.css">
<link rel="stylesheet" href="gamepad.css">
<link rel="shortcut icon" href="/favicon.png">
<link rel="manifest" href="/manifest.json" crossorigin="use-credentials">
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
</head>
<body>

<div id="appshell-headerslot"></div>

<div class="appshell-content">

<button id="mapping">⚙️ Gamepad mapping</button>

<div id="gamepad">
<table>

<tr>
<td colspan="2" id="t13" class="t"><span id="b13" class="b">&nbsp;&nbsp;LB&nbsp;&nbsp;</span>&nbsp;</td>
<td><span></span>&nbsp;</td>
<td><span></span>&nbsp;</td>
<td colspan="2" id="t14" class="t"><span id="b14" class="b">&nbsp;&nbsp;RB&nbsp;&nbsp;</span>&nbsp;</td>
</tr>

<tr>
<td colspan="2" id="t15" class="t"><span id="b15" class="b">&nbsp;LT&nbsp;</span>&nbsp;</td>
<td><span></span>&nbsp;</td>
<td><span></span>&nbsp;</td>
<td colspan="2" id="t16" class="t"><span id="b16" class="b">&nbsp;RT&nbsp;</span>&nbsp;</td>
</tr>

<tr>
<td id="t0" class="t"><span id="b0" class="b">↖️</span>&nbsp;</td>
<td id="t1" class="t"><span id="b1" class="b">⬆️</span>&nbsp;</td>
<td id="t2" class="t"><span id="b2" class="b">↗️</span>&nbsp;</td>
<td><span></span>&nbsp;</td>
<td id="t9" class="t"><span id="b9" class="b">&nbsp;Y&nbsp;</span>&nbsp;</td>
<td><span></span>&nbsp;</td>
</tr>

<tr>
<td id="t3" class="t"><span id="b3" class="b">⬅️</span>&nbsp;</td>
<td id="t4" class="t"><span id="b4" class="b">🔄</span>&nbsp;</td>
<td id="t5" class="t"><span id="b5" class="b">➡️</span>&nbsp;</td>
<td id="t10" class="t"><span id="b10" class="b">&nbsp;X&nbsp;</span>&nbsp;</td>
<td><span></span>&nbsp;</td>
<td id="t11" class="t"><span id="b11" class="b">&nbsp;B&nbsp;</span>&nbsp;</td>
</tr>

<tr>
<td id="t6" class="t"><span id="b6" class="b">↙️</span>&nbsp;</td>
<td id="t7" class="t"><span id="b7" class="b">⬇️</span>&nbsp;</td>
<td id="t8" class="t"><span id="b8" class="b">↘️</span>&nbsp;</td>
<td><span></span>&nbsp;</td>
<td id="t12" class="t"><span id="b12" class="b">&nbsp;A&nbsp;</span>&nbsp;</td>
<td><span></span>&nbsp;</td></tr>
</table>

<button id="start" class="hidden">▶️ Start</button>
<button id="stop" class="hidden">⏏️ Stop</button>
<div id="complianceStatus">Please press any button on your gamepad.</div>

<!-- 

0 1 2 3 4 5 6  7 8 9012
↖️⬆️↗️⬅️🔄➡️↙️⬇️↘️YXBA

↕️↔️↪️↩️⤵️🔙🔚🔝
 -->
</div>

<div id="settings">

<div><label for="runtime_min">Runtime: </label>
	<input id="runtime_min" type="number" min="1" required pattern="^\d+$"> min <span></span></div>
<div><label for="show_timer">Show timer</label>
	<select id="show_timer"><option value="1">Yes</option><option value="0">No</option></select> <span></span></div>
<div><label for="pick_interval_s">Pick interval: </label>
	<input id="pick_interval_s" type="number" min="1" required pattern="^\d+$"> s <span></span></div>
<div><label for="receiver">Receiver No: </label>
	<input id="receiver" type="number" min="1" required pattern="^\d+$"> <span></span></div>
<div><label for="action">Action: </label>
	<select id="action"><option value="BEEP">BEEP</option><option value="VIBRATE">VIBRATE</option><option value="SHOCK">SHOCK</option><option value="BEEPSHOCK">BEEPSHOCK</option></select> <span></span></div>
<div><label for="shock_power_percent">Power: </label>
	<input id="shock_power_percent" type="number" min="0" max="100" required pattern="^\d+$"> % <span></span></div>
<div><label for="duration_ms">Duration: </label>
	<input id="duration_ms" type="number" min="0" required pattern="^\d+$"> ms <span></span></div>
<div><label for="reaction_ms">Reaction time: </label>
	<input id="reaction_ms" type="number" min="0" required pattern="^\d+$"> ms <span></span></div>
<div><label for="immune_ms">Immune time: </label>
	<input id="immune_ms" type="number" min="0" required pattern="^\d+$"> ms <span></span></div>
<div><label for="play_buttons">Play buttons: </label>
	<input id="play_buttons"> <span></span></div>
<div><label for="hold_buttons">Hold buttons: </label>
	<input id="hold_buttons"> <span></span></div>

<pre>
0:↖️, 1:⬆️, 2:↗️,
3:⬅️, 4:🔄, 5:➡️,
6:↙️, 7:⬇️, 8:↘️,
9:Y, 10:X, 11:B, 12:A,
13:LB, 14:RB, 15:LT, 16:RT

</pre>

<!-- TODO: use dedicated interface for play and hold buttons instead
<table border="1" class="hidden">
<tr><th>Input</th><th>Mapping</th><th>Use</th></tr>
<tr><td>Left Up<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Up<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Right Up<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Left<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Right<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Left Down<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Down<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Right Down<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>Y<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>X<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>B<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>A<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>LB<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>RB<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>LT<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
<tr><td>RT<td id="mapping_"></td><td><select id="use_"><option value="game">Game</option><option value="always">Always</option><option value="never">Never</option></select></td></tr>
</table>
-->

</div>

</div>

<script type="module" src="userinterface.js"></script>
</body>
</html>